-- collections 테이블에 대한 SELECT 정책
CREATE POLICY "Users can view their own collections."
ON collections FOR SELECT
TO authenticated
USING (auth.uid() = owner_id);

-- documents 테이블에 대한 SELECT 정책
CREATE POLICY "Users can view their own documents."
ON documents FOR SELECT
TO authenticated
USING (auth.uid() = owner_id);

-- document_sections 테이블에 대한 SELECT 정책
CREATE POLICY "Users can view their own document sections."
ON document_sections FOR SELECT
TO authenticated
USING (
  document_id IN (
    SELECT id FROM documents WHERE auth.uid() = documents.owner_id
  )
);
